<schema>
	<element tablename="vw_waterworks_billing">
		<field name="objid" primary="true"/> 
		<field name="batchid" /> 
		<field name="acctid" /> 
		<field name="billno" searchable="true"/> 
		<field name="refbillno" searchable="true"/> 

		<field name="acctno" searchable="true"/> 
		<field name="acctname" searchable="true"/> 


		<field name="year" /> 	
		<field name="month" /> 	
		<field name="monthname" expr="MONTH_ARRAY(month)" /> 	

		<field name="state" /> 
		<field name="balanceforward" type="decimal"/> 
		<field name="printed" /> 
		<field name="acctstate" /> 
		<field name="address_text" /> 
		<field name="classificationid" /> 

		<field name="prevreading" type="integer"/> 
		<field name="reading" type="integer"/> 
		<field name="volume" type="integer"/> 
		<field name="amount" type="decimal"/> 
		<field name="hold" /> 
		<field name="subtotal" type="decimal"/> 
		<field name="seqno" /> 

		<complex name="stubout" ref="waterworks_stubout" jointype="many-to-one" required="false">
			<key field="stuboutid" target="objid"/> 
		</complex>
		
		<complex name="subarea" ref="waterworks_subarea" jointype="many-to-one" required="true">
			<key field="subareaid" target="objid"/> 
		</complex>

		<complex name="meter" ref="waterworks_meter" jointype="many-to-one"  required="false" 
			includefields="objid,serialno,brand,capacity,size.*,state">
			<key field="meterid" target="objid"/>
		</complex>
		<field name="meterstate" />

		<!-- date when the bill was prepared -->
		<field name="billdate" /> 

		<field name="readingdate" />
		<field name="discdate" /> 
		<field name="duedate" /> 
		<field name="fromdate" /> 
		<field name="todate" /> 

		<field name="remarks" /> 	


	</element>
</schema>


